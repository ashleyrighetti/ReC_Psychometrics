"0","set.seed(210829)"
"0","SzyT2 <- matrix(c(.85, .71, .75, -.06,-.03, .18, -.04, .13, -.05, .87, .75, .70), ncol=2) #primary factor loadings for the two factors"
"0","rownames(SzyT2) <- c(""cold"", ""unresponsive"", ""supportiveNR"", ""negative"", ""heterosexism"", ""harassed"") #variable names for the six items"
"0","#rownames(Szyf2) <- paste(""V"", seq(1:6), sep="" "") #prior code I replaced with above"
"0","colnames(SzyT2) <- c(""F1"", ""F2"")"
"0","SzyCorMat <- SzyT2 %*% t(SzyT2) #create the correlation matrix"
"0","diag(SzyCorMat) <- 1"
"0","#SzyCorMat #prints the correlation matrix"
"0","SzyM <- c(2.30, 3.12, 2.39, 3.24, 4.21, 3.47) #item means"
"0","SzySD <- c(1.35, 1.46, 1.26, 1.60, 1.75, 1.50) #item standard deviations; turns out we won't need these since we have a covariance matrix"
"0","SzyCovMat <- SzySD %*% t(SzySD) * SzyCorMat #creates a covariance matrix from the correlation matrix"
"0","#SzyCovMat #displays the covariance matrix"
"0","library(MASS)"
"0","dfSzyT2 <- round(mvrnorm(n=646, mu = SzyM, Sigma = SzyCovMat, empirical = TRUE),0) #creates the item level data from the sample size, mean, and covariance matrix"
"0","dfSzyT2[dfSzyT2>7]<-7 #restricts the upperbound of all variables to be 7 or less"
"0","dfSzyT2[dfSzyT2<1]<-1 #resticts the lowerbound of all variable to be 1 or greater"
"0","#colMeans(dfSzy) #displays column means"
"0",""
"0","library(tidyverse)"
"0","dfSzyT2 <- as.data.frame(dfSzyT2) #converts to a df so we can use in R"
"0","library(dplyr)"
"0","dfSzyT2 <- dfSzyT2 %>% mutate(ID = row_number()) #add ID to each row"
"0","dfSzyT2 <- dfSzyT2%>%select(ID, everything())#moving the ID number to the first column; requires"
"0","dfSzyT2<- dfSzyT2 %>%"
"0","  mutate(supportive = 7 - supportiveNR) #because the original scale had 1 reversed item, I reversed it so that we can re-reverse it for practice"
"0","dfSzyT2 <- dfSzyT2%>%"
"0","  select(-supportiveNR)"
